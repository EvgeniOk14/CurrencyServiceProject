# Микросервис - FetchCurrencyService

## Краткое описание микросервиса:
FetchCurrencyService — это микросервис, который является как продюсером для передачи 
так и консьюмером для приёма сообщений из топиков Kafka
Данный микросервис принимает сообщение от микросервиса KafkaServer слушая топик "Fetch-currency-topic".
Также данный микросервис посылает ответы в микросервис KafkaServer в топик для ответов "response-topic".
Микросервис связывается со сторонним API который показывает курсы валют и получает нужные валюты и их курсы.
Микросервис связан с двумя базами данных MongoDB и PostgreSQL.
В базу данных MongoDB он сохраняет requestId запросов для анализа дублирования запросов.
В базу данных PostgreSQL он сохраняет полезную нагрузку сообщения, а также сами ответы от стороннего API,
т.е. коды валют из курсы обмена, базовую валюту и дату обмена.
Т.е. данный микросервис получает нужную информацию и сохраняет её в базе данных,
а также обновляет её если данные устарели или срок хранения истёк.
Для удаления истёкших по сроку данных используется планировщик задач.


## Проект поддерживает следующие функции:
- **Получение и обработка валютных курсов**: Микросервис получает курсы валют от стороннего API и обрабатывает их.
- **Интеграция с Kafka**: Микросервис функционирует как продюсер и консьюмер, взаимодействуя с топиками Kafka для передачи и получения сообщений.
- **Хранение запросов**: Сохранение идентификаторов запросов (requestId) в базе данных MongoDB для анализа дублирования запросов.
- **Хранение ответов**: Сохранение полезной нагрузки сообщений и ответов от стороннего API в базе данных PostgreSQL, включая коды валют, базовую валюту и дату обмена.
- **Обновление устаревших данных**: Автоматическое обновление данных в базе данных, если они устарели или срок хранения истёк.
- **Планировщик задач**: Использование планировщика задач для удаления истёкших по сроку данных из базы данных.
- **Логирование**: Ведение логов для отслеживания процессов и упрощения отладки.
- **Обработка ошибок**: Эффективная обработка ошибок и управление исключениями для обеспечения стабильной работы микросервиса.


## Стек технологий
- **Java 21** — основной язык программирования.
- **Spring Boot** (версия 3.4.0) — фреймворк для создания приложения.
- **Maven** — система сборки и управления зависимостями.


## Системные требования
- **Java 21**
- **Maven 4.0.0**
- **Spring Boot 3.3.5**





