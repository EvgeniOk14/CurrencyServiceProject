# Микросервис - RequestCurrencyService

## Краткое описание микросервиса:
-**RequestCurrencyService** — это микросервис, который является как продюсером для передачи
 так и консьюмером для приёма сообщений из топиков Kafka
 Данный микросервис принимает сообщение от микросервиса KafkaServer слушая топик "request-currency-topic".
 Также данный микросервис посылает ответы в микросервис KafkaServer в топик для ответов "response-topic".
 Микросервис связан с базой данных PostgreSQL.
 Микросервис связывается с базой данных,в который лежат данные по полезным нагрузкам из сообщений и данные по запрашиваемым ранее
 курсам валют и получает нужные валюты и их курсы.
 Т.е. данный микросервис получает нужную информацию из базы данных и  отправляет в топик для ответов "response-topic",
 в микросервис KafkaServer.
 Так же микросервис проверяет данные на актуальность, т.е. если данным более одного часа, то
 микросервис посылает через топик "fetch-currency-topic" кафка запрос к микросервису "FetchCurrencyService"
 для того чтобы он обновил устаревшие данные.
 RequestCurrencyService интегрирован с Prometheus для сбора метрик производительности и состояния системы.
 Prometheus позволяет отслеживать такие показатели, как время отклика, количество запросов, уровень ошибок
 и загрузка системы. Эти метрики помогают в оперативном анализе и выявлении узких мест в производительности.
 Для удобного отображения собранных метрик используется Grafana.
 С помощью Grafana можно создавать интерактивные дашборды, которые позволяют визуализировать данные в реальном
 времени. Это дает командам возможность быстро реагировать на изменения в производительности системы
 и принимать обоснованные решения на основе собранной информации.

## Проект поддерживает следующие функции:
- **Получение запросов на курсы валют**: Микросервис принимает сообщения из топика "request-currency-topic" от других микросервисов или клиентов.
- **Интеграция с Kafka**: Микросервис функционирует как продюсер и консьюмер, взаимодействуя с топиками Kafka для передачи и получения сообщений.
- **Получение данных из базы данных**: Микросервис извлекает актуальные курсы валют и полезные нагрузки из базы данных PostgreSQL.
- **Отправка ответов**: Отправка ответов на запросы в топик "response-topic" для передачи информации обратно в микросервис KafkaServer.
- **Проверка актуальности данных**: Проверка, если данные о курсах валют старше одного часа, и инициирование запроса на обновление через топик "fetch-currency-topic".
- **Запрос на обновление данных**: Если данные устарели, микросервис отправляет запрос к `FetchCurrencyService` для получения актуальных курсов валют.
- **Логирование**: Ведение логов для отслеживания процессов и упрощения отладки.
- **Обработка ошибок**: Эффективная обработка ошибок и управление исключениями для обеспечения стабильной работы микросервиса.

## Стек технологий
- **Java 21** — основной язык программирования.
- **Spring Boot** (версия 3.4.0) — фреймворк для создания приложения.
- **Maven** — система сборки и управления зависимостями.
- **Prometheus** - Система мониторинга и сбора метрик для анализа производительности приложений.
- **Grafana** - Платформа для визуализации данных и создания интерактивных дашбордов
- **Actuator** - Компонент Spring Boot для мониторинга и управления состоянием приложения
- **Eureka-client**- Клиентская библиотека для взаимодействия с Eureka Server,
  позволяющая микросервисам автоматически регистрироваться и обнаруживать другие сервисы
  в распределенной системе.

## Доступ к Actuator
-**http://localhost:8080/actuator** - доступ к Actuator (набор функций для мониторинга и управления приложением
на основе Spring Boot, предоставляет информацию о состоянии приложения и его метриках)
## Доступ к Prometheus:
**http://localhost:9090** - доступ к интерфейсу Prometheus для мониторинга и анализа собранных метрик.

## Доступ к Grafana
-**http://localhost:3000** - доступ к интерфейсу Grafana для визуализации метрик и создания интерактивных дашбордов
(Пользователь: admin и Пароль: admin, задано по умолчанию, рекомендуется изменить после первого входа)

 





