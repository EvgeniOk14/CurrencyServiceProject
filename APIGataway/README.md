# APIGateway

- **APIGateway** — это микросервис, который служит маршрутизатором между фронтенд-приложением 
  и другими микросервисами,
  работающими с Kafka. Он обеспечивает обработку HTTP-запросов через REST API,
  выполняя асинхронные вызовы к другим сервисам,
  и предоставляет удобный интерфейс для взаимодействия с данными о курсах валют.
  APIGateway интегрирован с Prometheus для сбора метрик производительности и состояния системы.
  Prometheus позволяет отслеживать такие показатели, как время отклика, количество запросов, уровень ошибок
  и загрузка системы. Эти метрики помогают в оперативном анализе и выявлении узких мест в производительности.
  Для удобного отображения собранных метрик используется Grafana. 
  С помощью Grafana можно создавать интерактивные дашборды, которые позволяют визуализировать данные в реальном
  времени. Это дает командам возможность быстро реагировать на изменения в производительности системы
  и принимать обоснованные решения на основе собранной информации.

## Содержание
- [Особенности](#особенности)
- [Технологический стек](#технологический-стек)
- [API](#api)
- [Документирование Swagger](#документирование)
- [Доступ к Actuator](#Доступ к Actuator)
- [Доступ к Prometheus](#Доступ к Prometheus)
- [Доступ к Grafana](#Доступ к Grafana)

## Особенности
- Асинхронная обработка HTTP-запросов с использованием WebClient.
- Поддержка CORS для взаимодействия с фронтенд-приложениями.
- Настройка маршрутов и фильтров с использованием Spring Cloud Gateway.
- Логирование запросов и ответов для упрощения отладки.
- Интеграция с Kafka для обмена сообщениями между микросервисами.

## Технологический стек
- **Java 21** - Java версия 21
- **Spring Boot 3.4.1** - Фреймворк для быстрой разработки микросервисов с автоматической конфигурацией
- **Spring WebFlux** - Реактивный фреймворк для создания асинхронных веб-приложений с низкой задержкой
- **Spring Cloud Gateway** - API Gateway для маршрутизации и управления запросами к микросервисам
- **Maven** - Инструмент для управления проектами и автоматизации сборки на Java.
- **Swagger** — для документирования API.
- **Prometheus** - Система мониторинга и сбора метрик для анализа производительности приложений.
- **Grafana** - Платформа для визуализации данных и создания интерактивных дашбордов
- **Actuator** - Компонент Spring Boot для мониторинга и управления состоянием приложения
- **Eureka-server**- Сервис обнаружения для автоматической регистрации и поиска микросервисов.

## API
APIGateway предоставляет следующие конечные точки:
- **GET** `/api/gateway/currencies/all` — Получение всех доступных валют.
- **GET** `/api/gateway/currencies/single/{currencyCode}` — Получение курса конкретной валюты по её коду.
- **GET** `/api/gateway/currencies/filter/{filter}` — Получение списка валют по заданному фильтру.

## Документирование Swagger
-**http://localhost:8080/swagger-ui/index.html** - доступ к эндпоинтам контроллера
-**http://localhost:8080/v3/api-docs** -- доступ к документации Swagger

## Доступ к Actuator
-**http://localhost:8080/actuator** - доступ к Actuator (набор функций для мониторинга и управления приложением
   на основе Spring Boot, предоставляет информацию о состоянии приложения и его метриках)
## Доступ к Prometheus:
**http://localhost:9090** - доступ к интерфейсу Prometheus для мониторинга и анализа собранных метрик.

## Доступ к Grafana
-**http://localhost:3000** - доступ к интерфейсу Grafana для визуализации метрик и создания интерактивных дашбордов
   (Пользователь: admin и Пароль: admin, задано по умолчанию, рекомендуется изменить после первого входа)